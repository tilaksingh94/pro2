{"ast":null,"code":"import React, { Component } from 'react';\nimport BaseURL from './../components/config/api/BaseUrl';\nimport { Redirect } from 'react-router-dom';\nimport Router from 'next/router';\n\nclass Logout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logOut: false\n    };\n  }\n\n  async componentDidMount() {\n    if (!localStorage.setItem('token', '')) {\n      this.setState({\n        logOut: true\n      });\n    }\n\n    await fetch(BaseURL('logout'), {\n      method: 'post',\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('token'),\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: null\n    }).then(resp => resp.json()).then(function (result) {\n      if (result.success) {\n        localStorage.setItem('token', '');\n        localStorage.setItem('profile_stage', '');\n        localStorage.setItem('profile_stage', '');\n        this.setState({\n          logOut: true\n        });\n      }\n    });\n\n    if (this.state.logOut) {\n      Router.push('/');\n    }\n  }\n\n  render() {\n    return '';\n  }\n\n}\n\nexport default Logout;","map":null,"metadata":{},"sourceType":"module"}