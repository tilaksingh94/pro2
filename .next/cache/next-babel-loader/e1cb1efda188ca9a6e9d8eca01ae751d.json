{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport PostGetData from '../components/config/api/AuthorizedGet';\nimport PostData from '../components/config/api/AuthorizedPost';\nimport { List, Button, Avatar, Skeleton } from 'antd';\nimport Layout from '../components/include/Layout';\nimport Router from 'next/router';\nimport Link from 'next/link';\nexport default class Listing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      error: null,\n      loading: false,\n      search: ''\n    };\n    this.OnchangeHandller = this.OnchangeHandller.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      query\n    } = Router;\n    this.SearchBarFun(query.q);\n    this.setState({\n      search: query.q\n    });\n  }\n\n  OnchangeHandller(evt) {\n    var key = evt.target.value;\n\n    if (key.length > 1) {\n      if (this.timeout) clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.setState({\n          search: key\n        }); // this.SearchBarFun(key);\n      }, 500);\n    } //  else {\n    //     this.setState({\n    //         loading: false,\n    //         resultBoxProp: 'none',\n    //         items: [],\n    //     })\n    // }\n\n  }\n\n  SearchBarFun(query = null) {\n    let url = 'search-result?q=' + query;\n    console.log(query);\n    this.setState({\n      loading: true\n    });\n    PostGetData(url, 'POST').then(result => {\n      this.setState({\n        loading: false,\n        resultBoxProp: '',\n        items: result.data\n      });\n    });\n  }\n\n  onSubmitFun(event) {\n    event.preventDefault();\n    var searchKey = this.state.search;\n\n    if (searchKey.length > 1) {\n      const url = '/search?q=' + searchKey + '&filter='; // console.log(url);\n\n      this.SearchBarFun(searchKey);\n      Router.push(url);\n    }\n  }\n\n  render() {\n    const resultData = this.state.items;\n    return __jsx(Layout, null, __jsx(\"div\", {\n      className: \"site-blocks-cover inner-page-cover overlay bg-dark\",\n      style: {\n        backgroundImage: \"url(images/hero_1.jpg)\"\n      },\n      \"data-aos\": \"fade\",\n      \"data-stellar-background-ratio\": \"0.5\"\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"row align-items-center justify-content-center text-center\"\n    }, __jsx(\"div\", {\n      className: \"col-md-8\"\n    }, __jsx(\"div\", {\n      className: \"row justify-content-center mb-1\"\n    }, __jsx(\"div\", {\n      className: \"col-md-10 text-center\"\n    }, __jsx(\"h1\", {\n      \"data-aos\": \"fade-up\"\n    }, \"  Find Nearby \", __jsx(\"span\", {\n      className: \"typed-words\"\n    }, \"Attractive\"), \"  \"))), __jsx(\"div\", {\n      className: \"form-search-wrap p-1\",\n      \"data-aos\": \"fade-up\",\n      \"data-aos-delay\": \"200\"\n    }, __jsx(\"form\", {\n      method: \"get\",\n      ref: \"searchForm\",\n      action: \"search\",\n      onSubmit: event => this.onSubmitFun(event)\n    }, \"                                        \", __jsx(\"div\", {\n      className: \"row align-items-center\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-12 col-xl-10 no-sm-border b\"\n    }, __jsx(\"div\", {\n      className: \"wrap-icon\"\n    }, __jsx(\"input\", {\n      type: \"text\",\n      autoComplete: \"off\",\n      className: \"form-control\",\n      name: \"q\",\n      defaultValue: this.state.search,\n      onChange: evt => this.OnchangeHandller(evt),\n      placeholder: \"Looking for perfect gym for you !\"\n    }))), __jsx(\"div\", {\n      className: \"col-lg-12 col-xl-2 ml-auto text-right\"\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      className: \"btn\"\n    }, __jsx(\"span\", {\n      className: \"icon icon-search\"\n    })))))))))), __jsx(\"div\", {\n      className: \"site-section bg-light\"\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-8\"\n    }, __jsx(Skeleton, {\n      avatar: true,\n      paragraph: {\n        rows: 4\n      },\n      loading: this.state.loading\n    }, resultData ? Object.entries(resultData).map(([key, value]) => __jsx(\"div\", {\n      className: \"d-block d-md-flex listing-horizontal\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      className: \"img d-block\",\n      style: {\n        backgroundImage: 'url(\"' + value.image.img + '\")'\n      }\n    }, __jsx(\"span\", {\n      className: \"category\"\n    }, value.category)), __jsx(\"div\", {\n      className: \"lh-content\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      className: \"bookmark\"\n    }, __jsx(\"span\", {\n      className: \"icon-heart\"\n    })), __jsx(\"h3\", null, __jsx(Link, {\n      href: '/profile/[alias]',\n      as: '/profile/' + value.alias\n    }, __jsx(\"a\", null, value.name))), __jsx(\"p\", null, value.location.locality, \", \\xA0\", value.location.city, \", \\xA0\", value.location.state), __jsx(\"p\", null, __jsx(\"span\", {\n      class: \"icon-star text-warning\"\n    }), __jsx(\"span\", {\n      class: \"icon-star text-warning\"\n    }), __jsx(\"span\", {\n      class: \"icon-star text-warning\"\n    }), __jsx(\"span\", {\n      class: \"icon-star text-warning\"\n    }), __jsx(\"span\", {\n      class: \"icon-star text-secondary\"\n    }), __jsx(\"span\", null, \"(48 Reviews)\"))))) : '<div className=\"col-12 mt-5 text-center\">No Result Found!</div>')), __jsx(\"div\", {\n      className: \"col-lg-3 ml-auto\"\n    }, __jsx(\"div\", {\n      className: \"mb-5\"\n    }, __jsx(\"h3\", {\n      className: \"h5 text-black mb-3\"\n    }, \"Filters\"), __jsx(\"form\", {\n      action: \"#\",\n      method: \"post\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"input\", {\n      type: \"text\",\n      placeholder: \"What are you looking for?\",\n      className: \"form-control\"\n    })), __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"div\", {\n      className: \"select-wrap\"\n    }, __jsx(\"span\", {\n      className: \"icon\"\n    }, __jsx(\"span\", {\n      className: \"icon-keyboard_arrow_down\"\n    })), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"\",\n      id: \"\"\n    }, __jsx(\"option\", {\n      value: \"\"\n    }, \"All Categories\"), __jsx(\"option\", {\n      value: \"\"\n    }, \"Appartment\"), __jsx(\"option\", {\n      value: \"\"\n    }, \"Restaurant\"), __jsx(\"option\", {\n      value: \"\"\n    }, \"Eat & Drink\"), __jsx(\"option\", {\n      value: \"\"\n    }, \"Events\"), __jsx(\"option\", {\n      value: \"\"\n    }, \"Fitness\"), __jsx(\"option\", {\n      value: \"\"\n    }, \"Others\")))), __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"div\", {\n      className: \"wrap-icon\"\n    }, __jsx(\"span\", {\n      className: \"icon icon-room\"\n    }), __jsx(\"input\", {\n      type: \"text\",\n      placeholder: \"Location\",\n      className: \"form-control\"\n    }))))), __jsx(\"div\", {\n      className: \"mb-5\"\n    }, __jsx(\"form\", {\n      action: \"#\",\n      method: \"post\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"p\", null, \"Radius around selected destination\")), __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: \"100\",\n      value: \"20\",\n      \"data-rangeslider\": \"\",\n      style: {\n        position: \"absolute\",\n        width: \"1px\",\n        height: \"1px\",\n        overflow: \"hidden\",\n        opacity: \"0\"\n      }\n    })))), __jsx(\"div\", {\n      className: \"mb-5\"\n    }, __jsx(\"form\", {\n      action: \"#\",\n      method: \"post\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"p\", null, \"Category \")), __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"ul\", {\n      className: \"list-unstyled\"\n    }, __jsx(\"li\", null, __jsx(\"label\", {\n      htmlFor: \"option1\"\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      id: \"option1\"\n    }), \"Gym\")), __jsx(\"li\", null, __jsx(\"label\", {\n      htmlFor: \"option2\"\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      id: \"option2\"\n    }), \"Vegetarian\")), __jsx(\"li\", null, __jsx(\"label\", {\n      htmlFor: \"option3\"\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      id: \"option3\"\n    }), \"Vegan Foods\")), __jsx(\"li\", null, __jsx(\"label\", {\n      htmlFor: \"option4\"\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      id: \"option4\"\n    }), \"Sea Foods\")))))))))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}