{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport PostGetData from './config/api/AuthorizedGet';\nimport PostData from './config/api/AuthorizedPost';\nimport { List, Button, Avatar } from 'antd';\nimport Link from 'next/link';\nimport Router from 'next/router';\n\nvar ProfilePicture = /*#__PURE__*/function (_Component) {\n  _inherits(ProfilePicture, _Component);\n\n  function ProfilePicture(props) {\n    var _this;\n\n    _classCallCheck(this, ProfilePicture);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfilePicture).call(this, props));\n    _this.timeout = 0;\n    _this.state = {\n      items: [],\n      error: null,\n      loading: false,\n      search: '',\n      StateList: [],\n      resultBoxProp: 'none'\n    };\n    _this.onSubmitFun = _this.onSubmitFun.bind(_assertThisInitialized(_this));\n    _this.OnchangeHandller = _this.OnchangeHandller.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ProfilePicture, [{\n    key: \"OnchangeHandller\",\n    value: function OnchangeHandller(evt) {\n      var _this2 = this;\n\n      var key = evt.target.value;\n\n      if (key.length > 1) {\n        if (this.timeout) clearTimeout(this.timeout);\n        this.timeout = setTimeout(function () {\n          _this2.setState({\n            search: key\n          });\n\n          _this2.SearchBarFun(key);\n        }, 500);\n      } else {\n        this.setState({\n          loading: false,\n          resultBoxProp: 'none',\n          items: []\n        });\n      }\n    }\n  }, {\n    key: \"SearchBarFun\",\n    value: function SearchBarFun() {\n      var _this3 = this;\n\n      var query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var url = 'search?q=' + query;\n      PostGetData(url, 'POST').then(function (result) {\n        _this3.setState({\n          loading: false,\n          resultBoxProp: '',\n          items: result.data\n        });\n      });\n    }\n  }, {\n    key: \"onSubmitFun\",\n    value: function onSubmitFun(event) {\n      event.preventDefault();\n      var searchKey = this.state.search;\n\n      if (searchKey.length > 1) {\n        var url = '/search?q=' + searchKey + '&filter=';\n        Router.push(url);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this,\n          _jsx;\n\n      // console.log(th\\is.state.items);\n      var resultData = this.state.items;\n      var SearchData = []; // console.log(SearchData);\n\n      if (resultData != '') {\n        Object.entries(resultData).map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          return SearchData.push({\n            title: value.name\n          });\n        });\n      }\n\n      return __jsx(\"div\", {\n        className: \"form-search-wrap p-2 shadow\",\n        \"data-aos\": \"fade-up\",\n        \"data-aos-delay\": \"200\"\n      }, __jsx(\"form\", {\n        method: \"get\",\n        ref: \"searchForm\",\n        action: \"search\",\n        onSubmit: function onSubmit(event) {\n          return _this4.onSubmitFun(event);\n        }\n      }, __jsx(\"div\", {\n        className: \"row align-items-center\"\n      }, __jsx(\"div\", {\n        className: \"col-lg-10 col-xl-10 col-md-10 col-9 no-sm-border\"\n      }, __jsx(\"div\", {\n        className: \"wrap-icon\"\n      }, __jsx(\"input\", (_jsx = {\n        type: \"text\",\n        autoComplete: \"on\",\n        className: \"form-control\",\n        name: \"q\",\n        style: {\n          color: '#6c757d'\n        },\n        onChange: function onChange(evt) {\n          return _this4.OnchangeHandller(evt);\n        }\n      }, _defineProperty(_jsx, \"autoComplete\", \"off\"), _defineProperty(_jsx, \"placeholder\", \"Looking for perfect gym for you !\"), _jsx))), __jsx(\"div\", {\n        className: \"col-md-12 col-sm-12 col-12 col-lg-12 shadow rounded text-left p-3 mt-1\",\n        style: {\n          position: 'absolute',\n          backgroundColor: '#ffff',\n          maxHeight: '250px',\n          overflow: 'hidden',\n          overflowY: 'scroll',\n          display: this.state.resultBoxProp\n        }\n      }, __jsx(List, {\n        dataSource: SearchData,\n        size: \"small\",\n        loadMore: true,\n        renderItem: function renderItem(item) {\n          return __jsx(List.Item, null, __jsx(List.Item.Meta, {\n            title: __jsx(Link, {\n              href: 'search?s=' + item.title\n            }, item.title)\n          }));\n        }\n      }))), __jsx(\"div\", {\n        className: \"col-lg-2 col-xl-2 col-md-2 col-1 text-right\"\n      }, __jsx(\"button\", {\n        type: \"submit\",\n        className: \"btn\"\n      }, __jsx(\"span\", {\n        className: \"icon icon-search\"\n      }))))));\n    }\n  }]);\n\n  return ProfilePicture;\n}(Component);\n\nexport { ProfilePicture as default };","map":null,"metadata":{},"sourceType":"module"}