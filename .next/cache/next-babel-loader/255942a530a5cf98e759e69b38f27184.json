{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport PostGetData from './config/api/AuthorizedGet';\nimport PostData from './config/api/AuthorizedPost';\nimport { List, Button, Avatar } from 'antd';\nimport Link from 'next/link';\nimport Router from 'next/router';\nexport default class ProfilePicture extends Component {\n  constructor(props) {\n    super(props);\n    this.timeout = 0;\n    this.state = {\n      items: [],\n      error: null,\n      loading: false,\n      search: '',\n      StateList: [],\n      resultBoxProp: 'none'\n    };\n    this.onSubmitFun = this.onSubmitFun.bind(this);\n    this.OnchangeHandller = this.OnchangeHandller.bind(this);\n  }\n\n  OnchangeHandller(evt) {\n    var key = evt.target.value;\n\n    if (key.length > 1) {\n      if (this.timeout) clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => {\n        this.setState({\n          search: key\n        });\n        this.SearchBarFun(key);\n      }, 500);\n    } else {\n      this.setState({\n        loading: false,\n        resultBoxProp: 'none',\n        items: []\n      });\n    }\n  }\n\n  SearchBarFun(query = null) {\n    let url = 'search?q=' + query;\n    PostGetData(url, 'POST').then(result => {\n      this.setState({\n        loading: false,\n        resultBoxProp: '',\n        items: result.data\n      });\n    });\n  }\n\n  onSubmitFun(event) {\n    event.preventDefault();\n    var searchKey = this.state.search;\n\n    if (searchKey.length > 1) {\n      const url = '/search?q=' + searchKey + '&filter=';\n      Router.push(url);\n    }\n  }\n\n  render() {\n    // console.log(th\\is.state.items);\n    const resultData = this.state.items;\n    const SearchData = []; // console.log(SearchData);\n\n    if (resultData != '') {\n      Object.entries(resultData).map(([key, value]) => SearchData.push({\n        title: value.name\n      }));\n    }\n\n    return __jsx(\"div\", {\n      className: \"form-search-wrap p-2 shadow\",\n      \"data-aos\": \"fade-up\",\n      \"data-aos-delay\": \"200\"\n    }, __jsx(\"form\", {\n      method: \"get\",\n      ref: \"searchForm\",\n      action: \"search\",\n      onSubmit: event => this.onSubmitFun(event)\n    }, __jsx(\"div\", {\n      className: \"row align-items-center\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-10 col-xl-10 col-md-10 col-9 no-sm-border\"\n    }, __jsx(\"div\", {\n      className: \"wrap-icon\"\n    }, __jsx(\"input\", {\n      type: \"text\",\n      autoComplete: \"on\",\n      className: \"form-control\",\n      name: \"q\",\n      style: {\n        color: '#6c757d'\n      },\n      onChange: evt => this.OnchangeHandller(evt),\n      autoComplete: \"off\",\n      placeholder: \"Looking for perfect gym for you !\"\n    })), __jsx(\"div\", {\n      className: \"col-md-12 col-sm-12 col-12 col-lg-12 shadow rounded text-left p-3 mt-1\",\n      style: {\n        position: 'absolute',\n        backgroundColor: '#ffff',\n        maxHeight: '250px',\n        overflow: 'hidden',\n        overflowY: 'scroll',\n        display: this.state.resultBoxProp\n      }\n    }, __jsx(List, {\n      dataSource: SearchData,\n      size: \"small\",\n      loadMore: true,\n      renderItem: item => __jsx(List.Item, null, __jsx(List.Item.Meta, {\n        title: __jsx(Link, {\n          href: 'search?s=' + item.title\n        }, item.title)\n      }))\n    }))), __jsx(\"div\", {\n      className: \"col-lg-2 col-xl-2 col-md-2 col-1 text-right\"\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      className: \"btn\"\n    }, __jsx(\"span\", {\n      className: \"icon icon-search\"\n    }))))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}