{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport PostGetData from '../../components/config/api/AuthorizedGet';\nimport PostData from '../../components/config/api/AuthorizedPost';\nimport { Spin, Button } from 'antd';\nimport Router from 'next/router';\n\nvar Register_step_1 = /*#__PURE__*/function (_Component) {\n  _inherits(Register_step_1, _Component);\n\n  function Register_step_1(props) {\n    var _this;\n\n    _classCallCheck(this, Register_step_1);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register_step_1).call(this, props));\n    _this.state = {\n      entityType: [],\n      entity_type_id_fk: '',\n      loading: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.UpdateFunction = _this.UpdateFunction.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Register_step_1, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        entity_type_id_fk: event.target.value\n      });\n    }\n  }, {\n    key: \"UpdateFunction\",\n    value: function UpdateFunction() {\n      this.setState({\n        loading: true\n      });\n\n      if (this.state.entity_type_id_fk !== \"\") {\n        var DataSend = {\n          entity_type_id_fk: this.state.entity_type_id_fk\n        };\n        PostData('UpdateUserDetails', 'POST', DataSend).then(function (result) {\n          var responseJson = result;\n\n          if (responseJson.success) {\n            if (responseJson.data.entity_type_id_fk == 3) {\n              Router.push('/dashboard');\n            } else {\n              Router.push('/register/steps');\n            }\n          }\n        });\n      } else {\n        this.setState({\n          loading: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              PostGetData('entity-type').then(function (result) {\n                _this2.setState({\n                  entityType: result.data\n                });\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.state.entity_type_id_fk);\n      var entityType = this.state.entityType;\n      var entityTypeOption = '';\n\n      if (entityType) {\n        entityTypeOption = Object.entries(entityType).map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          return __jsx(\"label\", {\n            className: \"radio_button_container col-6 col-sm-6 col-md-4 mb-4 mb-lg-0 col-lg-4 \"\n          }, __jsx(\"div\", {\n            className: \"popular-category h-100 \"\n          }, value.name, __jsx(\"input\", {\n            type: \"radio\",\n            name: \"entity_type_id_fk\" // checked={this.state.entity_type_id_fk === value.id}\n            ,\n            onChange: _this3.handleChange,\n            value: value.id\n          }), __jsx(\"span\", {\n            className: \"checkmark\"\n          })));\n        });\n      }\n\n      return __jsx(Spin, {\n        spinning: this.state.loading,\n        size: \"large\"\n      }, __jsx(\"div\", null, __jsx(\"div\", {\n        className: \"site-blocks-cover inner-page-cover overlay bg-dark\",\n        \"data-aos\": \"fade\",\n        \"data-stellar-background-ratio\": \"0.5\"\n      }, __jsx(\"div\", {\n        className: \"container\"\n      }, __jsx(\"div\", {\n        className: \"row align-items-center justify-content-center text-center\"\n      }, __jsx(\"div\", {\n        className: \"col-md-10 \"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, entityTypeOption), __jsx(\"div\", {\n        className: \"row \"\n      }, __jsx(\"div\", {\n        className: \"col-md-12 pull-right text-right\"\n      }, __jsx(\"br\", null), __jsx(Button, {\n        size: \"large\",\n        loading: this.state.loading,\n        onClick: this.UpdateFunction\n      }, \" Continue \")))))))));\n    }\n  }]);\n\n  return Register_step_1;\n}(Component);\n\nexport default Register_step_1;","map":null,"metadata":{},"sourceType":"module"}